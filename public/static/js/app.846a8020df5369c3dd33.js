webpackJsonp([1],Array(43).concat([function(t,e,a){function s(t){a(99)}var n=a(0)(a(55),a(118),s,"data-v-7aa5ed12",null);t.exports=n.exports},function(t,e,a){"use strict";var s=a(17),n=a(121),r=a(105),o=a.n(r),i=a(106),l=a.n(i),c=a(107),d=a.n(c),u=a(108),m=a.n(u),v=a(109),p=a.n(v),f=a(43);a.n(f);s.a.use(n.a),e.a=new n.a({mode:"history",routes:[{path:"/",name:"Home",component:l.a},{path:"/associations",name:"Associations",component:o.a},{path:"/members/:id",name:"Member",component:d.a},{path:"/members",name:"Members",component:m.a},{path:"/settings",name:"Settings",component:p.a}]})},function(t,e,a){"use strict";var s=a(17),n=a(123);s.a.use(n.a),e.a=new n.a.Store({state:{showHeader:!0,showModal:!1,showSideMenu:!0,sideMenuExpanded:!1,pageCreated:!1,uid:null},getters:{isLoggedIn:function(t){return t.uid},modalOpen:function(t){return t.showModal},pageCreated:function(t){return t.pageCreated},showHeader:function(t){return t.showHeader},sideMenuExpanded:function(t){return t.sideMenuExpanded},sideMenuVisible:function(t){return t.showSideMenu}},mutations:{burn:function(t){return localStorage.removeItem("laa_uid"),t.uid=null,window.location.reload()},collapseSideMenu:function(t){t.sideMenuExpanded=!1},hideHeader:function(t){t.showHeader=!1},hideModal:function(t){t.showModal=!1},hideSideMenu:function(t){t.showSideMenu=!1},pageCreated:function(t){t.pageCreated=!0},setUid:function(t,e){t.uid=e},showModal:function(t){t.showModal=!0},showHeader:function(t){t.showHeader=!0},showSideMenu:function(t){t.showSideMenu=!0},toggleSideMenu:function(t){t.sideMenuExpanded=!t.sideMenuExpanded}}})},function(t,e,a){function s(t){a(101),a(102)}var n=a(0)(a(47),a(120),s,"data-v-d83d303e",null);t.exports=n.exports},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(92);a.n(s);e.default={beforeCreate:function(){var t=localStorage.getItem("laa_uid");t&&this.$store.commit("setUid",t)},computed:{expanded:function(){return this.$store.getters.sideMenuExpanded},sideMenuVisible:function(){return this.$store.getters.sideMenuVisible}},created:function(){this.$store.commit("pageCreated")},methods:{toggleSideMenu:function(){this.$store.commit("toggleSideMenu")}},mounted:function(){var t=this;document.onkeyup=function(e){27==e.keyCode&&t.hideModal()}},name:"app"}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(4),n=(a.n(s),a(3)),r=a.n(n);e.default={created:function(){this.updateAssociations()},data:function(){return{assocData:{name:""},dataLoaded:!1,err_msg:"",errorMsg:"",assocs:[],offset:0,showAdd:!1,showLoader:!1}},methods:{addAssociation:function(t){var e=this;if(""==this.assocData.name)return function(){e.errorMsg=e.err_msg="Enter association name",setTimeout(function(){e.err_msg=""},2e3)}();var a={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:r.a.stringify(this.assocData),mode:"cors"};this.showLoader=!0,fetch(this.BASE_URL+"/associations/add",a).then(function(t){return e.handleResponse(t)}).then(function(t){return e.showLoader=!1,1==t.success?(e.assocs.push({id:t.id,name:e.assocData.name,member_count:0}),e.assocData.name="",e.updateAssociations()):alert(t.msg)}).catch(function(t){if(console.log(t),e.showLoader=!1,!t.body)return e.genericErrorAlert();t.body.then(function(t){alert(t)})})},addNew:function(){this.showAdd=!0},updateAssociations:function(){var t=this;fetch(this.BASE_URL+"/associations/all").then(function(e){return t.handleResponse(e)}).then(function(e){t.assocs=e,t.dataLoaded=!0}).catch(function(e){if(console.log(e),!e.body)return t.genericErrorAlert();e.body.then(function(t){alert(t)})})}},mounted:function(){}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=(a(56),a(110)),n=a.n(s),r=a(111),o=a.n(r),i=a(4),l=(a.n(i),a(3));a.n(l);e.default={beforeMount:function(){this.header=document.getElementById("site-header")},beforeRouteUpdate:function(){console.log("updating route..")},components:{Dashboard:n.a,Signin:o.a},data:function(){return{header:null}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(4),n=(a.n(s),a(3)),r=(a.n(n),a(43)),o=a.n(r);e.default={components:{PrintPerson:o.a},beforeMount:function(){this.initPrint()},beforeRouteUpdate:function(t,e,a){t.name==e.name&&(void 0!==t.query.print?this.print=!0:this.print=!1),a()},created:function(){var t=this;fetch(this.BASE_URL+"/members/?uid="+this.$route.params.id).then(function(e){return t.handleResponse(e)}).then(function(e){t.person=e,t.dataLoaded=!0}).catch(function(e){if(console.log(e),!e.body)return t.genericErrorAlert();e.body.then(function(t){alert(t)})})},data:function(){return{dataLoaded:!1,offset:0,person:null,print:!1}},methods:{exitPrint:function(){this.print=!1,this.$store.commit("showHeader"),this.$store.commit("showSideMenu")},initPrint:function(){void 0!==this.$route.query.print?this.print=!0:this.print=!1},printCard:function(){this.$router.push({path:"/members/"+this.$route.params.id+"/",query:{print:"true"}})}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(61),n=a.n(s),r=a(4),o=(a.n(r),a(3));a.n(o);e.default={computed:{cMembers:function(){var t=this.searchResults,e=this.members;return null!==t?t:e}},created:function(){var t=this;fetch(this.BASE_URL+"/members/all").then(function(e){return t.handleResponse(e)}).then(function(e){t.members=e,t.dataLoaded=!0}).catch(function(e){if(t.dataLoaded=!0,console.log(e),!e.body)return t.genericErrorAlert();e.body.then(function(t){alert(t)})})},data:function(){return{dataLoaded:!1,members:[],offset:0,searchLoading:!1,searchResults:null,searchTerm:""}},watch:{searchTerm:function(){var t=this;if(""==this.searchTerm)return this.searchResults=null;this.searchLoading=!0,fetch(this.BASE_URL+"/members/search?id="+this.searchTerm).then(function(e){return t.handleResponse(e)}).then(function(e){t.searchLoading=!1,"object"==(void 0===e?"undefined":n()(e))&&(t.searchResults=e)}).catch(function(e){if(t.searchLoading=!1,console.log(e),!e.body)return t.genericErrorAlert();e.body.then(function(t){alert(t)})})}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(58),n=a.n(s),r=a(4),o=(a.n(r),a(3)),i=a.n(o);e.default={created:function(){var t=this;fetch(this.BASE_URL+"/profile?uid="+this.isLoggedIn).then(function(e){return t.handleResponse(e)}).then(function(e){console.log(e),t.loadUserInfo(e),t.person=e,t.dataLoaded=!0}).catch(function(e){if(console.log(e),!e.body)return t.genericErrorAlert();e.body.then(function(t){alert(t)})})},data:function(){return{btnDisabled:!1,dataLoaded:!1,offset:0,profileData:{fname:"",lname:"",username:"",email:"",phone:"",opassword:"",npassword:""},showLoader:!1}},methods:{loadUserInfo:function(t){var e=this;t&&n()(t).map(function(a){void 0!==e.profileData[a]&&(e.profileData[a]=t[a])})},update:function(){var t=this,e=this.profileData;e.uid=this.isLoggedIn;var a={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:i.a.stringify(e),mode:"cors"};this.showLoader=!0,fetch(this.BASE_URL+"/profile",a).then(function(e){return t.handleResponse(e)}).then(function(e){console.log(e),t.loadUserInfo(e),t.person=e,t.showLoader=!1}).catch(function(e){if(console.log(e),t.showLoader=!1,!e.body)return t.genericErrorAlert();e.body.then(function(t){alert(t)})})}},mounted:function(){}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(4),n=(a.n(s),a(3)),r=a.n(n);e.default={computed:{btnDisabled:function(){return this.showLoader},imgThumbnail:function(){return{height:this.namesDivHeight,width:this.namesDivHeight}},showThumbnail:function(){return""!==this.imgUrl},sortedAssocs:function(){return this.assocs.sort(function(t,e){return t.name.toLowerCase()<e.name.toLowerCase()?-1:t.name.toLowerCase()>e.name.toLowerCase()?1:0})}},created:function(){var t=this;fetch(this.BASE_URL+"/associations/all").then(function(e){return t.handleResponse(e)}).then(function(e){t.assocs=e,t.dataLoaded=!0}).catch(function(e){if(console.log(e),!e.body)return t.genericErrorAlert();e.body.then(function(t){alert(t)})})},data:function(){return{canvas:null,err_msg:"",assocs:[],errorMsg:"",imgData:"",imgUrl:"",mform:null,namesDivHeight:0,userData:{fname:"",lname:"",mname:"",address:"",association:0,sex:0,dob:"",status:0},showLoader:!1,video:null,videoSrcObject:null}},methods:{clearPhoto:function(){var t=this.canvas.getContext("2d");t.fillStyle="#AAA",t.fillRect(0,0,this.canvas.width,this.canvas.height);var e=this.canvas.toDataURL("image/png");this.imgUrl=e},formatDate:function(t){var e=(this.userData.dob,t.target.value),a=e.length;2!=a&&5!=a||(e+="/"),this.userData.dob=e},resetForm:function(){this.userData={fname:"",lname:"",mname:"",address:"",association:0,sex:0,dob:"",status:0},this.imgUrl=""},save:function(){var t=this;if(this.err_msg="",this.showLoader=!0,console.log(this.userData),this.validateData(),""!==this.err_msg)return this.showLoader=!1,this.showErrors();console.log(this.userData);var e=this.userData;e.img_url=this.imgUrl;var a={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:r.a.stringify(e),mode:"cors"};fetch(this.BASE_URL+"/members/add",a).then(function(e){return t.handleResponse(e)}).then(function(e){if(console.log(e),t.showLoader=!1,1==e.success)return alert("Added successfully."),t.resetForm();alert(e.data)}).catch(function(e){if(t.showLoader=!1,!e.body)return t.genericErrorAlert();e.body.then(function(t){alert(t)})})},selectImage:function(){this.showModal(),this.canvas=document.getElementById("canvas"),this.video=document.getElementById("video"),this.startVideo()},showErrors:function(){var t=this;this.errorMsg=this.err_msg,setTimeout(function(){t.err_msg=""},3e3)},startVideo:function(){var t=this;console.log("starting video.."),navigator.mediaDevices.getUserMedia({video:{width:{ideal:400},height:{ideal:400}},audio:!1}).then(function(e){window.stream=e,t.video.srcObject=e}).catch(function(t){console.log("An error occured! "+t)})},takePicture:function(t){console.log("Taking snapshot..");var e=this.video.clientWidth,a=this.video.clientHeight,s=this.canvas.getContext("2d");if(e&&a){this.canvas.width=e,this.canvas.height=a,s.drawImage(this.video,0,0,e,a);var n=this.canvas.toDataURL("image/png");this.imgUrl=n}else this.clearPhoto();this.hideModal(),this.video.pause()},validateData:function(){return""==this.userData.fname?this.err_msg="First name is required.":this.userData.fname.length<2?this.err_msg="First name can not be less than 2 characters long.":""==this.userData.lname?this.err_msg="Last name is required.":this.userData.lname.length<2?this.err_msg="Last name can not be less than 2 characters long.":""==this.userData.phone?this.err_msg="Phone number is required.":this.userData.address.length<6?this.err_msg="Please enter a valid address.":this.userData.sex?this.userData.dob?this.userData.status?this.userData.association?this.imgUrl?void 0:this.err_msg="Please select a photo.":this.err_msg="Please select an association.":this.err_msg="Please provide marital status.":this.err_msg="Please provide birth date.":this.err_msg="Please provide gender information."},validateDate:function(t){var e=this.userData.dob,a=t.key,s=parseInt(a),n=e.length;if(!a.match(/[0-9]|Backspace|F5/))return t.preventDefault();if(!(n>9)){if(0==n&&s>3)return t.preventDefault();if(1==n&&3==e&&s>1)return t.preventDefault();if(3==n&&s>1)return t.preventDefault();if(4==n){if(1==e.slice(-1)&&s>2)return t.preventDefault()}if(6==n&&(s<1||s>2))return t.preventDefault();if(7==n){if(1==e.slice(-1)&&s<8)return t.preventDefault()}}}},mounted:function(){this.namesDivHeight=document.querySelector(".us-n").clientHeight-15},updated:function(){this.canvas=document.getElementById("canvas"),this.video=document.getElementById("video")}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(4),n=(a.n(s),a(3)),r=a.n(n);e.default={created:function(){if(console.log("created"),console.log(this.$store.getters.isLoggedIn),this.$store.commit("hideHeader"),this.isLoggedIn)return window.location.reload()},data:function(){return{btnDisabled:!1,errorMsg:"",login:{username:"",password:""},showLoader:!1}},methods:{setError:function(t){var e=this;this.errorMsg=t,setTimeout(function(){e.errorMsg=""},1500)},signin:function(){var t=this;if(""==this.login.username)return this.setError("Please enter your username");if(this.login.password.length<3)return this.setError("Please enter a valid password");this.showLoader=!0;var e={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:r.a.stringify(this.login),mode:"cors"};fetch(this.BASE_URL+"/auth/login",e).then(function(e){return t.handleResponse(e)}).then(function(e){return t.showLoader=!1,1==e.success?(localStorage.setItem("laa_uid",e.uid),window.location.reload()):t.setError(e.msg)}).catch(function(e){if(console.log(e),t.showLoader=!1,!e.body)return t.genericErrorAlert();e.body.then(function(e){t.setError(e)})})}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={beforeCreate:function(){var t=document.createElement("link");t.id="print-id",t.rel="stylesheet",t.href="/static/css/print-id.css",document.head.append(t)},beforeDestroy:function(){document.getElementById("print-id").remove()},created:function(){},data:function(){return{}},props:["person"]}},function(t,e,a){"use strict"},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(17),n=a(46),r=a.n(n),o=a(44),i=a(45),l=function(){return localStorage.getItem("laa_uid")};o.a.beforeEach(function(t,e,a){i.a.commit("collapseSideMenu"),i.a.commit("hideModal");var s=l();return s?a():s||"/"===t.path?void a():window.location="/"}),s.a.config.productionTip=!1,s.a.mixin({computed:{isLoggedIn:function(){return l()},showHeader:function(){return this.$store.getters.showHeader}},data:function(){return{BASE_URL:"http://localhost:9800"}},methods:{genericErrorAlert:function(){var t="An error occurred.";return!1===navigator.onLine?alert(t+" Please check your internet connection."):alert(t+" Please try again.")},handleResponse:function(t,e){if(e&&"function"==typeof e&&e(t),t.ok)return t.json();var a=new Error;a.status=t.status,a.headers=t.headers;try{a.body=t.json()}catch(a){console.log(a)}throw a},hideModal:function(t){this.$store.commit("hideModal")},logout:function(){this.$store.commit("burn")},modalOpen:function(){return this.$store.getters.modalOpen},showModal:function(){this.$store.commit("showModal")}}}),new s.a({el:"#app",router:o.a,store:i.a,template:"<App/>",components:{App:r.a}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,function(t,e,a){function s(t){a(95)}var n=a(0)(a(48),a(115),s,"data-v-3a7d476b",null);t.exports=n.exports},function(t,e,a){var s=a(0)(a(49),a(113),null,null,null);t.exports=s.exports},function(t,e,a){function s(t){a(100)}var n=a(0)(a(50),a(119),s,"data-v-98ad829a",null);t.exports=n.exports},function(t,e,a){function s(t){a(98)}var n=a(0)(a(51),a(117),s,"data-v-75ab8e60",null);t.exports=n.exports},function(t,e,a){function s(t){a(94)}var n=a(0)(a(52),a(114),s,"data-v-37943108",null);t.exports=n.exports},function(t,e,a){function s(t){a(93)}var n=a(0)(a(53),a(112),s,"data-v-2bd5fb3d",null);t.exports=n.exports},function(t,e,a){function s(t){a(96),a(97)}var n=a(0)(a(54),a(116),s,"data-v-42e21ac9",null);t.exports=n.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mw1200 sp15 pdt15"},[a("form",{staticClass:"form",attrs:{id:"mform",action:"/register",method:"post"}},[a("h3",{staticClass:"text-center"},[t._v("\n            Staff Registration Form\n        ")]),t._v(" "),a("transition",{attrs:{"enter-active-class":"fade-in","leave-active-class":"fade-out"}},[a("p",{directives:[{name:"show",rawName:"v-show",value:""!==t.err_msg,expression:"err_msg !== ''"}],staticClass:"text-center pdt10"},[a("span",{staticClass:"alert alert-danger"},[t._v(t._s(t.errorMsg))])])]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-5 img-pl"},[a("div",{staticClass:"img-c",style:{height:t.imgThumbnail.height+"px",width:t.imgThumbnail.width+"px"}},[a("span",{style:function(){if(!t.showThumbnail)return"opacity: 1;"}(),on:{click:t.selectImage}},[t._v("Click to capture or change image")]),t._v(" "),a("img",{directives:[{name:"show",rawName:"v-show",value:t.showThumbnail,expression:"showThumbnail"}],attrs:{src:t.imgUrl,alt:""}})])]),t._v(" "),a("div",{staticClass:"col-sm-7 us-n"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"sr-only",attrs:{for:"fname"}},[t._v("\n                        First name\n                    ")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.fname,expression:"userData.fname"}],staticClass:"form-control",attrs:{type:"text",name:"fname",placeholder:"First name"},domProps:{value:t.userData.fname},on:{input:function(e){e.target.composing||(t.userData.fname=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"sr-only",attrs:{for:"mname"}},[t._v("\n                        Middle name\n                    ")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.mname,expression:"userData.mname"}],staticClass:"form-control",attrs:{type:"text",name:"mname",placeholder:"Middle name"},domProps:{value:t.userData.mname},on:{input:function(e){e.target.composing||(t.userData.mname=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"sr-only",attrs:{for:"lname"}},[t._v("\n                        Last name\n                    ")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.lname,expression:"userData.lname"}],staticClass:"form-control",attrs:{type:"text",name:"lname",placeholder:"Last name"},domProps:{value:t.userData.lname},on:{input:function(e){e.target.composing||(t.userData.lname=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"sr-only",attrs:{for:"phone"}},[t._v("\n                        Phone number\n                    ")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.phone,expression:"userData.phone"}],staticClass:"form-control",attrs:{type:"tel",name:"phone",placeholder:"Phone number"},domProps:{value:t.userData.phone},on:{input:function(e){e.target.composing||(t.userData.phone=e.target.value)}}})])])]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-4"},[a("label",{attrs:{for:"sex"}},[t._v("\n                    Sex\n                ")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.userData.sex,expression:"userData.sex"}],staticClass:"form-control",attrs:{name:"sex"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.userData.sex=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"0"}},[t._v("Select..")]),t._v(" "),a("option",{attrs:{value:"m"}},[t._v("Male")]),t._v(" "),a("option",{attrs:{value:"f"}},[t._v("Female")])])]),t._v(" "),a("div",{staticClass:"form-group col-sm-4"},[a("label",{attrs:{for:"dob"}},[t._v("\n                    Date of birth\n                ")]),t._v(" "),a("div",{staticClass:"input-group",attrs:{id:"datetimepicker1"}},[a("input",{staticClass:"dash-date2 form-control",attrs:{name:"dob",type:"text",autocomplete:"false",maxlength:"10",placeholder:"01/12/1900"},domProps:{value:t.userData.dob},on:{keydown:t.validateDate,keyup:t.formatDate}}),t._v(" "),t._m(0)])]),t._v(" "),a("div",{staticClass:"form-group col-sm-4"},[a("label",{attrs:{for:"status"}},[t._v("\n                    Marital status\n                ")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.userData.status,expression:"userData.status"}],staticClass:"form-control",attrs:{name:"status"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.userData.status=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"0"}},[t._v("Select..")]),t._v(" "),a("option",{attrs:{value:"s"}},[t._v("Single")]),t._v(" "),a("option",{attrs:{value:"m"}},[t._v("Married")])])]),t._v(" "),a("div",{staticClass:"form-group col-sm-8"},[a("label",{staticClass:"sr-only",attrs:{for:"address"}},[t._v("\n                    Address\n                ")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.userData.address,expression:"userData.address"}],staticClass:"form-control",attrs:{name:"address",id:"",rows:"4",placeholder:"Address"},domProps:{value:t.userData.address},on:{input:function(e){e.target.composing||(t.userData.address=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"sr-only",attrs:{for:"status"}},[t._v("\n                        Marital status\n                    ")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.userData.association,expression:"userData.association"}],staticClass:"form-control",attrs:{name:"status"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.userData.association=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"0"}},[t._v("Select association")]),t._v(" "),t._l(t.sortedAssocs,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])})],2)]),t._v(" "),a("div",{staticClass:"form-group"},[a("button",{staticClass:"form-control btn bred",attrs:{type:"button",disabled:t.btnDisabled},on:{click:function(e){t.save()}}},[t.showLoader?a("span",{staticClass:"spinner"}):a("span",{staticClass:"txt"},[t._v("Save")])])])])])],1),t._v(" "),a("transition",{attrs:{"enter-active-class":"fade-in","leave-active-class":"fade-out"}},[t.modalOpen()?a("div",{staticClass:"modal",on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.hideModal(e)}}},[a("div",{staticClass:"modal-content"},[a("header",[a("h3",{staticClass:"text-center"},[t._v("\n                        Capture image\n                    ")])]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"camera"},[a("video",{attrs:{id:"video",autoplay:"true"}},[t._v("Video stream not available.")]),t._v(" "),a("span",[a("button",{staticClass:"btn bred",attrs:{id:"startbutton"},on:{click:function(e){e.stopPropagation(),t.takePicture(e)}}},[a("i",{staticClass:"fa fa-camera"}),t._v(" Take photo")])])]),t._v(" "),a("canvas",{attrs:{id:"canvas"}})])]):t._e()])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"input-group-addon pikaday-trigger"},[a("span",{staticClass:"fa fa-calendar"})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("transition",{attrs:{"enter-active-class":"fade-in","leave-active-class":"fade-out"}},[t.isLoggedIn?t._e():a("signin")],1),t._v(" "),a("transition",{attrs:{"enter-active-class":"fade-in","leave-active-class":"fade-out"}},[t.isLoggedIn?a("dashboard"):t._e()],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mw1200 sp15 pdt15"},[a("transition",{attrs:{"enter-active-class":"fade-in","leave-active-class":"fade-out"}},[t.dataLoaded?a("div",{staticClass:"mw600"},[a("form",{staticClass:"form",attrs:{action:"/profile/"},on:{submit:function(e){e.preventDefault(),e.stopPropagation(),t.update()}}},[a("h3",[t._v("Profile")]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6 form-group"},[a("label",{staticClass:"sr-only",attrs:{for:"fname"}},[t._v("First name")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.profileData.fname,expression:"profileData.fname"}],staticClass:"form-control",attrs:{type:"text",name:"fname",placeholder:"First name",required:""},domProps:{value:t.profileData.fname},on:{input:function(e){e.target.composing||(t.profileData.fname=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col-sm-6 form-group"},[a("label",{staticClass:"sr-only",attrs:{for:"lname"}},[t._v("Last name")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.profileData.lname,expression:"profileData.lname"}],staticClass:"form-control",attrs:{type:"text",name:"lname",placeholder:"Last name",required:""},domProps:{value:t.profileData.lname},on:{input:function(e){e.target.composing||(t.profileData.lname=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6 form-group"},[a("label",{staticClass:"sr-only",attrs:{for:"username"}},[t._v("Username")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.profileData.username,expression:"profileData.username"}],staticClass:"form-control",attrs:{type:"text",name:"username",placeholder:"Username",required:""},domProps:{value:t.profileData.username},on:{input:function(e){e.target.composing||(t.profileData.username=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col-sm-6 form-group"},[a("label",{staticClass:"sr-only",attrs:{for:"email"}},[t._v("Email address")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.profileData.email,expression:"profileData.email"}],staticClass:"form-control",attrs:{type:"email",name:"email",placeholder:"E-mail address"},domProps:{value:t.profileData.email},on:{input:function(e){e.target.composing||(t.profileData.email=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6 form-group"},[a("label",{staticClass:"sr-only",attrs:{for:"phone"}},[t._v("Phone number")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.profileData.phone,expression:"profileData.phone"}],staticClass:"form-control",attrs:{type:"tel",name:"phone",placeholder:"Phone number"},domProps:{value:t.profileData.phone},on:{input:function(e){e.target.composing||(t.profileData.phone=e.target.value)}}})])]),t._v(" "),a("h5",[t._v("Change password")]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6 form-group"},[a("label",{staticClass:"sr-only",attrs:{for:"opassword"}},[t._v("Old password")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.profileData.opassword,expression:"profileData.opassword"}],staticClass:"form-control",attrs:{type:"password",name:"opassword",placeholder:"Old password"},domProps:{value:t.profileData.opassword},on:{input:function(e){e.target.composing||(t.profileData.opassword=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col-sm-6 form-group"},[a("label",{staticClass:"sr-only",attrs:{for:"npassword"}},[t._v("New password")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.profileData.npassword,expression:"profileData.npassword"}],staticClass:"form-control",attrs:{type:"password",name:"npassword",placeholder:"New password"},domProps:{value:t.profileData.npassword},on:{input:function(e){e.target.composing||(t.profileData.npassword=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group"},[a("button",{staticClass:"btn bred form-control",attrs:{disabled:t.btnDisabled}},[t.showLoader?a("span",{staticClass:"spinner"}):a("span",{staticClass:"txt"},[t._v("Update profile")])])])])]):a("div",{staticClass:"loader"},[a("span",{staticClass:"spinner s bdred"}),t._v(" "),a("span",[t._v("Getting information...")])])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mw1200 sp15 pdt15"},[a("transition",{attrs:{"enter-active-class":"fade-in","leave-active-class":"fade-out"}},[t.dataLoaded?a("div",[a("p",[t._v("There are "+t._s(t.assocs.length)+" association(s).\n                "),a("Button",{on:{click:t.addNew}},[t._v("Add new")])],1),t._v(" "),a("div",{staticClass:"data-table"},[a("transition",{attrs:{"enter-active-class":"fade-in","leave-active-class":"fade-out"}},[t.showAdd?a("div",[a("transition",{attrs:{"enter-active-class":"slide-up-in","leave-active-class":"slide-up-out"}},[a("p",{directives:[{name:"show",rawName:"v-show",value:""!==t.err_msg,expression:"err_msg !== ''"}],staticClass:"pdt10"},[a("span",{staticClass:"alert alert-danger"},[t._v(t._s(t.errorMsg))])])]),t._v(" "),a("form",{staticClass:"form col-sm-6",attrs:{action:"/associations/add",method:"post"},on:{submit:function(e){e.preventDefault(),e.stopPropagation(),t.addAssociation(e)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-8 form-group"},[a("div",{staticClass:"row"},[a("label",{staticClass:"sr-only",attrs:{for:"assoc_name"}},[t._v("Association name")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.assocData.name,expression:"assocData.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Asociation name"},domProps:{value:t.assocData.name},on:{input:function(e){e.target.composing||(t.assocData.name=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"col-sm-3 form-group"},[a("div",{staticClass:"row"},[a("button",{staticClass:"btn bred form-control"},[t.showLoader?a("span",{staticClass:"spinner"}):a("span",{staticClass:"txt"},[t._v("Add")])])])])])])],1):t._e()])],1),t._v(" "),t.assocs.length>0?a("div",[a("table",{staticClass:"table table-bordered table-hover"},[a("thead",[a("tr",[a("th",[t._v("Association")]),t._v(" "),a("th",[t._v("No of Members")])])]),t._v(" "),a("tbody",{},t._l(t.assocs,function(e){return a("tr",{key:e.name},[a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",[t._v(t._s(e.member_count))])])}))])]):t._e()]):a("div",{staticClass:"modal flex"},[a("div",{staticClass:"dialog"},[a("span",{staticClass:"spinner s bdred"}),t._v(" "),a("span",[t._v("Loading...")])])])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"fb"}},[a("div",{staticClass:"s-box"},[a("div",{staticClass:"l"},[t._m(0),t._v(" "),a("br"),t._v(" "),a("form",{staticClass:"form",attrs:{action:"/login",method:"post"},on:{submit:function(e){e.preventDefault(),t.signin()}}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"sr-only",attrs:{for:"username"}},[t._v("\n                        Username\n                    ")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.login.username,expression:"login.username"}],staticClass:"form-control",attrs:{type:"text",name:"username",placeholder:"Username"},domProps:{value:t.login.username},on:{input:function(e){e.target.composing||(t.login.username=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"sr-only",attrs:{for:"password"}},[t._v("\n                        Password\n                    ")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.login.password,expression:"login.password"}],staticClass:"form-control",attrs:{type:"password",name:"password",placeholder:"Password"},domProps:{value:t.login.password},on:{input:function(e){e.target.composing||(t.login.password=e.target.value)}}})]),t._v(" "),a("button",{staticClass:"form-control btn bred",attrs:{disabled:t.btnDisabled}},[t.showLoader?a("span",{staticClass:"spinner"}):a("span",{staticClass:"txt"},[t._v("Log in")])])]),t._v(" "),a("transition",{attrs:{"enter-active-class":"fade-in","leave-active-class":"fade-out"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.errorMsg,expression:"errorMsg"}],staticClass:"error"},[t._v("\n                    "+t._s(t.errorMsg)+"\n                ")])])],1)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"logo"},[a("img",{staticClass:"img-responsive",attrs:{src:"/static/img/harmony.jpeg",alt:""}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mw1200 sp15 pdt15"},[a("transition",{attrs:{"enter-active-class":"fade-in","leave-active-class":"fade-out"}},[t.dataLoaded?a("div",[a("div",{staticClass:"form-group"},[a("span",{staticStyle:{display:"inline-block"}},[t._v("There are "+t._s(t.members.length)+" member(s).\n                    "),a("router-link",{attrs:{to:"/",tag:"button"}},[t._v("Add new")])],1),t._v(" "),a("div",{staticClass:"sm pull-right"},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-addon"},[a("i",{staticClass:"fa fa-search"})]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchTerm,expression:"searchTerm"}],staticClass:"form-control",attrs:{type:"search",placeholder:"Search members by ID"},domProps:{value:t.searchTerm},on:{input:function(e){e.target.composing||(t.searchTerm=e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"spinner"})])])]),t._v(" "),a("div",{staticClass:"data-table"},[t.searchLoading?a("div",[a("hr"),t._v(" "),a("div",{staticClass:"loader"},[a("span",{staticClass:"spinner s bdred"}),t._v(" "),a("span",[t._v("Searching...")])])]):t._e(),t._v(" "),t.cMembers.length>0?a("div",[t.searchLoading?t._e():a("div",[a("table",{staticClass:"table table-bordered table-hover"},[a("thead",[a("tr",[a("th",[t._v("Full name")]),t._v(" "),a("th",[t._v("Phone no")]),t._v(" "),a("th",[t._v("Address")]),t._v(" "),a("th",[t._v("Association")])])]),t._v(" "),a("tbody",{},t._l(t.cMembers,function(e){return a("router-link",{key:e.fname,attrs:{to:"/members/"+e.uid,tag:"tr"}},[a("td",{attrs:{uid:e.uid}},[t._v(t._s(e.fname)+" "+t._s(e.lname))]),t._v(" "),a("td",[t._v(t._s(e.phone))]),t._v(" "),a("td",[t._v(t._s(e.address))]),t._v(" "),a("td",[t._v(t._s(e.assoc_name))])])}))])])]):t.cMembers.length<1&&null!==t.searchResults?a("div",[a("hr"),t._v(" "),a("h4",{staticClass:"text-center"},[t._v("\n                        Empty result.\n                    ")])]):t._e()])]):a("div",{staticClass:"modal flex"},[a("div",{staticClass:"dialog"},[a("span",{staticClass:"spinner s bdred"}),t._v(" "),a("span",[t._v("Loading...")])])])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"bg"},[t._m(0),t._v(" "),a("h2",{staticClass:"text-center"},[t._v("\n            Identity card\n        ")]),t._v(" "),a("div",{staticClass:"r"},[a("div",{staticClass:"img-b"},[a("img",{attrs:{src:this.BASE_URL+"/static/img/profile/_s/"+t.person.img,alt:""}})])]),t._v(" "),a("div",{staticClass:"d"},[a("b",[t._v("Name: ")]),t._v(" "+t._s(t.person.fname+" "+t.person.lname)+"\n        ")])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",{staticClass:"text-center"},[a("b",[t._v("Harmony Ltd.")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mw1200 sp15 pdt15"},[a("transition",{attrs:{"enter-active-class":"fade-in","leave-active-class":"fade-out"}},[t.dataLoaded?a("div",{staticClass:"data-table"},[t.person?a("div",[t.print?a("div",[a("print-person",{attrs:{person:t.person}})],1):a("div",{staticClass:"pro-t"},[a("h2",{staticClass:"text-center"},[t._v("Member profile")]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6 pull-right"},[a("div",{staticClass:"pimg"},[a("img",{staticClass:"img-responsive",attrs:{src:this.BASE_URL+"/static/img/profile/_s/"+t.person.img,alt:""}})])]),t._v(" "),a("div",{staticClass:"col-sm-6 pull-left"},[a("table",{staticClass:"table fw"},[a("tbody",{staticClass:"details"},[a("tr",[a("td",[a("strong",[t._v("Surname:")])]),t._v(" "),a("td",[t._v(t._s(t.person.lname))])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("First name:")])]),t._v(" "),a("td",[t._v(t._s(t.person.fname))])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Middle name:")])]),t._v(" "),a("td",[t._v(t._s(t.person.mname))])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("ID No:")])]),t._v(" "),a("td",[t._v("A"+t._s(t.person.uid))])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Phone no:")])]),t._v(" "),a("td",[t._v(t._s(t.person.phone))])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Address:")])]),t._v(" "),a("td",[t._v(t._s(t.person.address))])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Date of birth:")])]),t._v(" "),a("td",[t._v(t._s(t.person.dob))])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Gender:")])]),t._v(" "),a("td",[t._v(t._s("m"==t.person.sex?"Male":"Female"))])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Marital status:")])]),t._v(" "),a("td",[t._v(t._s("m"==t.person.m_status?"Married":"Single"))])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Association:")])]),t._v(" "),a("td",[t._v(t._s(t.person.assoc_name))])])])])])])])]):a("div",[a("p",[t._v("This user does not exist.")])])]):a("div",{staticClass:"modal flex"},[a("div",{staticClass:"dialog"},[a("span",{staticClass:"spinner s bdred"}),t._v(" "),a("span",[t._v("Loading...")])])])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:{"logged-in":t.showHeader},attrs:{id:"app"}},[a("header",{directives:[{name:"show",rawName:"v-show",value:t.showHeader,expression:"showHeader"}],attrs:{id:"site-header"}},[a("div",{staticClass:"container-fluid"},[a("span",[a("span",{staticClass:"snack",on:{click:function(e){e.stopPropagation(),t.toggleSideMenu(e)}}},[a("i",{staticClass:"fa fa-bars"},[t._v(" ")])]),t._v(" "),t._m(0)]),t._v(" "),t.isLoggedIn?a("span",{staticClass:"logout",on:{click:function(e){t.logout()}}},[t._v(" Log out")]):t._e()])]),t._v(" "),a("main",[t.showHeader&&t.sideMenuVisible?a("div",{staticClass:"side-menu",class:{expanded:t.expanded}},[a("span",{staticClass:"hs",on:{click:function(e){e.stopPropagation(),t.toggleSideMenu(e)}}},[a("i",{staticClass:"fa fa-angle-left"})]),t._v(" "),a("ul",{staticClass:"menu-list"},[a("li",{staticClass:"menu-item"},[a("router-link",{attrs:{to:{path:"/members"},tag:"a","active-class":"active"}},[a("i",{staticClass:"fa fa-user"},[t._v(" ")]),t._v(" Members")])],1),t._v(" "),a("li",{staticClass:"menu-item"},[a("router-link",{attrs:{to:{path:"/associations"},tag:"a","active-class":"active"}},[a("i",{staticClass:"fa fa-users"},[t._v(" ")]),t._v(" Associations")])],1),t._v(" "),a("li",{staticClass:"menu-item"},[a("router-link",{attrs:{to:{path:"/settings"},tag:"a","active-class":"active"}},[a("i",{staticClass:"fa fa-gears"},[t._v(" ")]),t._v(" Settings")])],1)]),t._v(" "),a("span",{staticClass:"menu-item a"},[t.isLoggedIn?a("a",{attrs:{href:"/logout"},on:{click:function(e){e.preventDefault(),e.stopPropagation(),t.logout()}}},[a("i",{staticClass:"fa fa-minus-circle"},[t._v(" ")]),t._v(" Logout\n        ")]):t._e()])]):t._e(),t._v(" "),a("div",{attrs:{id:"content"}},[a("router-view")],1)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"home",attrs:{href:"/"}},[a("i",{staticClass:"fa fa-home"},[t._v(" ")]),t._v("\n          Harmony Management System\n        ")])}]}}]),[57]);
//# sourceMappingURL=app.846a8020df5369c3dd33.js.map